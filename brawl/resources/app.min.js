!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){function a(){var a=Object.keys(r);a.forEach(function(a){var b=document.createElement("template");"game"===a?(b.innerHTML=r[a].join("\n"),q.appendChild(document.importNode(b.content,!0))):(b.className=a,b.innerHTML=r[a].join("\n"),q.appendChild(b))}),j=document.querySelectorAll("[grid]"),k=document.getElementsByClassName("who")}function b(){var a=document.querySelector("template.card");Array.prototype.forEach.call(j,function(b,c){for(var d=35;d;){var e=document.importNode(a.content,!0);e.firstElementChild.setAttribute("cdnm",d),e.firstElementChild.setAttribute("plyr",c),b.appendChild(e),d--}})}function c(a){var b=a.target.value,c=parseInt(b.substr(-1,1)),d=a.target.nextElementSibling;d.className=d.className.replace("select","selected"),b=b.replace(/\d/,""),o.deck[c]=new l(b,c),f(b,o.deck[c],c),d.nextElementSibling.innerHTML=o.deck[c].cardsLeft(),d.nextElementSibling.style.opacity=1}function d(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push(o.icons[a[c].getType()]);return d}function f(a,b,c){b.shuffle(),b=d(b.getDeck(),c);var e=document.querySelectorAll(".deckLanding")[c];Array.prototype.forEach.call(j[c].children,function(c,d){var f,h=c.firstElementChild;7>d?f=20:14>d?f=15:21>d?f=10:28>d?f=5:35>d&&(f=0),setTimeout(function(){c.style.zIndex=170-5*d,c.style.left=e.offsetLeft+5-f+"px",c.style.top=e.offsetTop+8+"px",h.style.boxShadow="0 0 0 black",h.style.opacity=1,h.style.transform="",h.className=a,h.firstElementChild.className=b[d],h.addEventListener("click",g)},50*(36-d))}),setTimeout(function(){j[c].children[0].firstElementChild.dispatchEvent(p)},2750),setTimeout(function(){j[c].children[1].firstElementChild.dispatchEvent(p)},3650)}function g(a){var b=i(a.target)-1,c=o.deck[b],d=j[b].firstElementChild;if(parseInt(d.getAttribute("cdnm"))===c.cardsLeft()){var e=c.dealCard(),f=d.firstElementChild,k=document.querySelectorAll(".discard")[b].offsetLeft+5,l=180-360*b;Math.floor(360*Math.random());if(e.getType()||34!==c.cardsLeft())o.discard[b].setCard(e),f.style.transform="rotateY(180deg)",f.className+=" deck",d.style.left=k+"px",setTimeout(function(){document.querySelectorAll(".discard")[b].appendChild(d)},500);else{var m=b?"R":"L",n=document.querySelector("[playArea]"),p=n.clientWidth/2-75;f.style.transform="rotateY("+l+"deg) rotateZ(360deg)",d.style.top=n.offsetTop+"px","R"===m?d.style.left=p+112.5+"px":d.style.left=p-112.5+"px",setTimeout(function(){n.appendChild(d)},500),f.addEventListener("click",h)}setTimeout(function(){d.style.zIndex=0},200),f.style.boxShadow="",f.removeEventListener("click",g),document.querySelectorAll("[cdlt]")[b].innerHTML=c.cardsLeft()}}var o={playArea:new n(1,2),deck:[],discard:[new m,new m],currentCard:[],icons:["base","hitB","hit2B","blockB","hitG","hit2G","blockG","hitR","hit2R","blockR","clear","press","freeze"],count:0,fillBody:a,buildDecksHTML:b,loadDeck:c};Object.defineProperties(this,{init:{value:e.bind(o),enumerable:!0}})}function e(){var a=this;a.fillBody(),a.buildDecksHTML(),document.querySelector("[value=Play]").addEventListener("click",f),document.querySelector(".vsContain").style.opacity=1,document.querySelector("[game]").style.height="109px",document.querySelector("[game]").style.width="321px",Array.prototype.forEach.call(k,function(a){Array.prototype.forEach.call(a.children,function(a){a.selected===!0&&(a.selected=!1),"blank"===a.value&&(a.selected=!0)})}),Array.prototype.forEach.call(document.querySelectorAll(".select.icon"),function(a,b){a.addEventListener("click",g.bind(this))}),Array.prototype.forEach.call(k,function(b){b.addEventListener("change",a.loadDeck)})}function f(){var a=document.querySelector("[game]"),b=document.querySelector("template.landing"),c=document.importNode(document.querySelector("template.field").content,!0).firstElementChild,d=document.querySelector(".vsContain"),e=!1;e="blank"!==k[0].value&&"blank"!==k[1].value,e?(d.style.opacity=0,a.style.height="",a.style.width="",setTimeout(function(){Array.prototype.forEach.call(document.querySelectorAll("[class^=p]"),function(a){a.appendChild(document.importNode(b.content,!0))}),Array.prototype.forEach.call(k,function(a){a.dispatchEvent(o)}),Array.prototype.forEach.call(document.querySelectorAll("[class^=p]"),function(a){a.style.flexBasis="100%"}),a.insertBefore(c,d),a.removeChild(d)},650)):alert("Select Fighters to Play!")}function g(a){if("select"!==a.target.className.substr(0,6)){var b=a.target.className.replace("icon ",""),c=a.target.parentElement,d=parseInt(c.parentElement.parentElement.className.substr(1,1))-1;Array.prototype.forEach.call(k[d].children,function(a,c){a.selected===!0&&(a.selected=!1),a.value===b+d&&(a.selected=!0)}),c.className="select icon "+b,c.setAttribute("value",b),Array.prototype.forEach.call(c.children,function(a){a.hasAttribute("blank")&&a.removeAttribute("blank"),a.className==="icon "+b&&a.setAttribute("blank","")})}}function h(a){a.layerY<104.5?alert("Player 1"):alert("Player 2")}function i(a){for(;"p"!==a.className.substr(0,1);)a=a.parentElement;return a=parseInt(a.className.substr(1,1))}var j,k,l=a("./BrawlDeck.js"),m=a("./BrawlDiscard.js"),n=a("./BrawlField.js"),o=new Event("change"),p=new Event("click"),q=document.querySelector("body"),r=a("./templates");window.Brawl=d},{"./BrawlDeck.js":4,"./BrawlDiscard.js":5,"./BrawlField.js":6,"./templates":7}],2:[function(a,b,c){function d(a,b){function c(a,b){return d.sides[b][d.counts[b]]=a,d.counts[b]++,!0}var d={player:a,counts:[0,0],sides:[[],[]],location:b,freeze:!1,placeCard:c};Object.defineProperties(this,{addSide:{value:e.bind(d),enumerable:!0},getSide:{value:f.bind(d),enumerable:!0},scoreSide:{value:g.bind(d),enumerable:!0},getFreeze:{value:h.bind(d),enumerable:!0},getPlayer:{value:i.bind(d),enumerable:!0},getLocation:{value:k.bind(d),enumerable:!0},setLocation:{value:l.bind(d),enumerable:!0},getFreezeString:{value:m.bind(d),enumerable:!0}})}function e(a,b){var c=!1;if(12===a.getType()&&(freeze=!0,c=!0),0===this.counts[b])switch(a.getType()){case 1:case 4:case 7:c=this.placeCard(a,b)}else if(this.counts[b]>0)switch(a.getType()){case 1:case 2:case 3:1===this.sides[b][this.counts[b]-1].getType()||2===this.sides[b][this.counts[b]-1].getType()?c=this.placeCard(a,b):11===this.sides[b][this.counts[b]-1].getType()&&1===a.getType()&&3===this.sides[b][this.counts[b]-2].getType()&&(c=this.placeCard(a,b));break;case 4:case 5:case 6:4===this.sides[b][this.counts[b]-1].getType()||5===this.sides[b][this.counts[b]-1].getType()?c=this.placeCard(a,b):11===this.sides[b][this.counts[b]-1].getType()&&4===a.getType()&&6===this.sides[b][this.counts[b]-2].getType()&&(c=this.placeCard(a,b));break;case 7:case 8:case 9:7===this.sides[b][this.counts[b]-1].getType()||8===this.sides[b][this.counts[b]-1].getType()?c=this.placeCard(a,b):11===this.sides[b][this.counts[b]-1].getType()&&7===a.getType()&&9===this.sides[b][this.counts[b]-2].getType()&&(c=this.placeCard(a,b));break;case 11:switch(this.sides[b][this.counts[b]-1].getType()){case 3:case 6:case 9:c=this.placeCard(a,b)}}return c}function f(a){return this.counts[a]<=0?this.sides[a][0]:this.sides[a][this.counts[a]-1]}function g(a){for(this.counts[a]=0,j,j=0;j<this.sides[a].length;j++)if(null!==this.sides[a][j])switch(this.sides[a][j].getType()){case 1:case 4:case 7:this.counts[a]+=1;break;case 2:case 5:case 8:this.counts[a]+=2}return console.log("Base "+location+" p"+(a+1)+" landed "+this.counts[a]+" hits"),this.counts[a]}function h(){return this.freeze}function i(){return this.player}function k(){return this.location}function l(a){this.location=a}function m(){var a=" ";return a=this.freeze===!0?"True":"False"}b.exports=d},{}],3:[function(a,b,c){function d(a){var b={type:a};Object.defineProperties(this,{getType:{value:e.bind(b),emunerable:!0},toString:{value:f.bind(b),emunerable:!0}})}function e(){return this.type}function f(){switch(this.type){case h:return"Blue Hit";case i:return"Blue Hit-2";case j:return"Blue Block";case k:return"Green Hit";case l:return"Green Hit-2";case m:return"Green Block";case n:return"Red Hit";case o:return"Red Hit-2";case p:return"Red Block";case g:return"Base";case q:return"Clear";case r:return"Press";case s:return"Freeze";default:return"??"}}var g=0,h=1,i=2,j=3,k=4,l=5,m=6,n=7,o=8,p=9,q=10,r=11,s=12;b.exports=d},{}],4:[function(a,b,c){function d(a){function b(a){c.deck=[q];for(var b,d=0,e=0;13>e;e++)for(b=1;b<=a[e];b++)c.deck[d]=new j(e),d++;c.cardUsed=0}var c={deck:void 0,cardUsed:void 0};switch(a){case"Bennett":b(k),console.log("Bennett");break;case"Chris":b(l),console.log("Chris");break;case"Darwin":b(m),console.log("Darwin");break;case"Hale":b(n),console.log("Hale");break;case"Morgan":b(o),console.log("Morgan");break;case"Pearl":b(p),console.log("Pearl")}Object.defineProperties(this,{shuffle:{value:e.bind(c),enumerable:!0},cardsLeft:{value:f.bind(c),enumerable:!0},dealCard:{value:g.bind(c),enumerable:!0},getDeck:{value:h.bind(c),enumerable:!0},getDeckSize:{value:i.bind(c),enumerable:!0}})}function e(){for(var a=31;a>0;a--){var b=Math.floor(Math.random()*(a+1));b>0&&(temp=this.deck[a],this.deck[a]=this.deck[b],this.deck[b]=temp)}this.cardUsed=0}function f(){return q-this.cardUsed}function g(){return this.cardUsed++,this.deck[this.cardUsed-1]}function h(){return this.deck}function i(){return q}var j=a("./BrawlCard.js"),k=[7,8,0,1,3,0,1,4,0,1,6,1,3],l=[4,7,0,2,5,0,2,8,0,2,2,0,3],m=[3,4,1,3,4,0,1,8,1,3,1,3,3],n=[6,5,1,0,8,1,1,4,1,1,4,0,3],o=[5,8,0,4,6,0,2,2,0,1,4,0,3],p=[5,7,1,1,7,1,1,1,0,1,5,2,3],q=35;b.exports=d},{"./BrawlCard.js":3}],5:[function(a,b,c){function d(){var a={discard:[],cardLocation:0};Object.defineProperties(this,{setCard:{value:e.bind(a),enumerable:!0},getCard:{value:f.bind(a),enumerable:!0},playCard:{value:g.bind(a),enumerable:!0}})}function e(a){this.discard[this.cardLocation]=a,this.cardLocation++}function f(){return cardLocation>=0?this.discard[cardLocation-1]:new h(-1)}function g(){return this.cardLocation--,this.cardLocation<0&&(this.cardLocation=0),this.discard[this.cardLocation]}var h=a("./BrawlCard.js");b.exports=d},{"./BrawlCard.js":3}],6:[function(a,b,c){function d(a,b){function c(a){return m.inPlay[a].getFreeze()}function d(a){var b=-1;do if(b++,m.inPlay[b].getLocation()===a)return b;while(b<m.inPlay.length);return 3}var m={inPlay:[new l(a,"L"),new l(b,"R")],p1Score:0,p2Score:0,checkFreeze:c,findLocation:d};Object.defineProperties(this,{addNewBase:{value:e.bind(m),enumerable:!0},clearBase:{value:f.bind(m),enumerable:!0},playToBase:{value:g.bind(m),enumerable:!0},checkDone:{value:h.bind(m),enumerable:!0},calculateScore:{value:i.bind(m),enumerable:!0},check:{value:j.bind(m),enumerable:!0},getSize:{value:k.bind(m),enumerable:!0}})}function e(a,b){var c,d=!1;if(this.inPlay.length<3){if(this.inPlay.length>1)c=this.findLocation(b),this.inPlay[c].setLocation("M"),this.inPlay.push(new l(a,b));else if(1===this.inPlay.length){switch(this.inPlay.push(new l(a,b)),b){case"L":b="R";break;case"R":b="L"}c=this.findLocation("M"),this.inPlay[c].setLocation(b)}d=!0}return d}function f(a){var b,c,d=!1;if("M"!==a&&1!==this.inPlay.length&&(b=this.findLocation(a),c=this.checkFreeze(b),!c)){if(this.inPlay.splice(b,1),this.inPlay.length>1)b=this.findLocation("M"),this.inPlay[b].setLocation(a);else if(1===this.inPlay.length){switch(a){case"L":a="R";break;case"R":a="L"}b=this.findLocation(a),this.inPlay[b].setLocation("M")}d=!0}return d}function g(a,b,c){var d,e=!1,f=!1;return 1===this.inPlay.length?(d=0,e=this.checkFreeze(d),e||(f=this.inPlay[d].addSide(c,b-1))):2===this.inPlay.length&&"M"!==a?(d=this.findLocation(a),e=this.checkFreeze(d),e||(f=this.inPlay[d].addSide(c,b-1))):3===this.inPlay.length&&(d=this.findLocation(a),e=this.checkFreeze(d),e||(f=this.inPlay[d].addSide(c,b-1))),f}function h(){var a,b=[!1,!1,!1],c=!1;for(a=0;a<this.inPlay.length;a++)b[a]=this.inPlay[a].getFreeze();return 1===this.inPlay.length?b[0]&&(c=!0):2===this.inPlay.length?b[0]&&b[1]&&(c=!0):3===this.inPlay.length&&b[0]===!0&&b[1]===!0&&b[2]===!0&&(c=!0),c}function i(){var a,b=0,c=0;for(a=0;a<this.inPlay.length;a++)b=this.inPlay[a].scoreSide(0),c=this.inPlay[a].scoreSide(1),b===c?1===this.inPlay[a].getPlayer()?p1Score+=1:p2Score+=1:b>c?p1Score+=1:p2Score+=1;return console.log("Pleyer 1 score:"+p1Score),console.log("Player 2 score:"+p2Score),p1Score>p2Score?1:p1Score<p2Score?2:0}function j(a){return this.inPlay[a]}function k(){return this.inPlay.length}var l=a("./BrawlBase.js");b.exports=d},{"./BrawlBase.js":2}],7:[function(a,b,c){b.exports={card:['<div class="contain">',"<div card>","<div front></div>","<div back></div>","</div>","</div>"],versus:['<div class="vsContain">','<div class="vs">',"<div></div>","</div>",'<input type="button" value="Play">',"</div>"],landing:['<div class="deckLanding"></div>','<div class="discard"></div>'],field:["<div playArea></div>"],game:["<div game>",'<div class="p1">',"<div menu>",'<select class="who" blank>','<option value="blank"></option>','<option value="Bennett0">Bennett0</option>','<option value="Chris0">Chris0</option>','<option value="Darwin0">Darwin0</option>','<option value="Hale0">Hale0</option>','<option value="Morgan0">Morgan0</option>','<option value="Pearl0">Pearl0</option>',"</select>",'<div class="select icon Empty">','<div class="icon Bennett" value="Bennett"></div>','<div class="icon Chris" value="Chris"></div>','<div class="icon Darwin" value="Darwin"></div>','<div class="icon Hale" value="Hale"></div>','<div class="icon Morgan" value="Morgan"></div>','<div class="icon Pearl" value="Pearl"></div>',"</div>","<div cdlt></div>","</div>","<div grid>","</div>","</div>",'<div class="vsContain">','<div class="vs">',"<div></div>","</div>",'<input type="button" value="Play">',"</div>",'<div class="p2">',"<div menu>",'<select class="who" blank>','<option value="blank"></option>','<option value="Bennett1">Bennett1</option>','<option value="Chris1">Chris1</option>','<option value="Darwin1">Darwin1</option>','<option value="Hale1">Hale1</option>','<option value="Morgan1">Morgan1</option>','<option value="Pearl1">Pearl1</option>',"</select>",'<div class="select icon Empty">','<div class="icon Bennett" value="Bennett"></div>','<div class="icon Chris" value="Chris"></div>','<div class="icon Darwin" value="Darwin"></div>','<div class="icon Hale" value="Hale"></div>','<div class="icon Morgan" value="Morgan"></div>','<div class="icon Pearl" value="Pearl"></div>',"</div>","<div cdlt></div>","</div>","<div grid>","</div>","</div>","</div>"]}},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map